/*!
 * starcitizen-webgl-map v0.2.0 by Lianna Eeftinck
 * Copyright 2014 Lianna Eeftinck
 * https://github.com/Leeft/Star-Citizen-WebGL-Map
 * Licensed under http://opensource.org/licenses/MIT
 */
if (typeof jQuery === "undefined") { throw new Error("starcitizen-webgl-map requires jQuery"); }
if (typeof THREE === "undefined") { throw new Error("starcitizen-webgl-map requires THREE.js"); }
function _build_selected_system_object(){var a=(new THREE.JSONLoader).parse({metadata:{formatVersion:3.1,sourceFile:"selected_system.obj",generatedBy:"OBJConverter",vertices:248,faces:248,normals:960,colors:0,uvs:0,materials:1},scale:1,vertices:[-.5,.5,.5,-.52,.2,.5,-.52,.2,.44,-.52,.44,.44,-.52,.5,.5,-.5,.52,.5,-.5,.5,.52,-.52,.44,.2,-.52,.5,.2,-.5,.52,.2,-.44,.52,.2,-.44,.52,.44,-.44,.44,.52,-.5,.2,.52,-.44,.2,.52,-.2,.52,.44,-.2,.52,.5,-.2,.5,.52,-.2,.44,.52,-.5,.44,.2,-.5,.5,.2,-.44,.5,.2,-.2,.44,.5,-.2,.5,.44,-.2,.5,.5,-.5,.44,.44,-.44,.44,.5,-.44,.5,.44,-.5,.2,.5,-.5,.2,.44,-.44,.2,.5,.5,.5,.5,.52,.2,.5,.52,.2,.44,.52,.44,.44,.52,.5,.5,.5,.52,.5,.5,.5,.52,.52,.44,.2,.52,.5,.2,.5,.52,.2,.44,.52,.2,.44,.52,.44,.44,.44,.52,.5,.2,.52,.44,.2,.52,.2,.52,.44,.2,.52,.5,.2,.5,.52,.2,.44,.52,.5,.44,.2,.5,.5,.2,.44,.5,.2,.2,.44,.5,.2,.5,.44,.2,.5,.5,.5,.44,.44,.44,.44,.5,.44,.5,.44,.5,.2,.5,.5,.2,.44,.44,.2,.5,-.5,-.5,.5,-.52,-.2,.5,-.52,-.2,.44,-.52,-.44,.44,-.52,-.5,.5,-.5,-.52,.5,-.5,-.5,.52,-.52,-.44,.2,-.52,-.5,.2,-.5,-.52,.2,-.44,-.52,.2,-.44,-.52,.44,-.44,-.44,.52,-.5,-.2,.52,-.44,-.2,.52,-.2,-.52,.44,-.2,-.52,.5,-.2,-.5,.52,-.2,-.44,.52,-.5,-.44,.2,-.5,-.5,.2,-.44,-.5,.2,-.2,-.44,.5,-.2,-.5,.44,-.2,-.5,.5,-.5,-.44,.44,-.44,-.44,.5,-.44,-.5,.44,-.5,-.2,.5,-.5,-.2,.44,-.44,-.2,.5,.5,-.5,.5,.52,-.2,.5,.52,-.2,.44,.52,-.44,.44,.52,-.5,.5,.5,-.52,.5,.5,-.5,.52,.52,-.44,.2,.52,-.5,.2,.5,-.52,.2,.44,-.52,.2,.44,-.52,.44,.44,-.44,.52,.5,-.2,.52,.44,-.2,.52,.2,-.52,.44,.2,-.52,.5,.2,-.5,.52,.2,-.44,.52,.5,-.44,.2,.5,-.5,.2,.44,-.5,.2,.2,-.44,.5,.2,-.5,.44,.2,-.5,.5,.5,-.44,.44,.44,-.44,.5,.44,-.5,.44,.5,-.2,.5,.5,-.2,.44,.44,-.2,.5,-.5,.5,-.5,-.52,.2,-.5,-.52,.2,-.44,-.52,.44,-.44,-.52,.5,-.5,-.5,.52,-.5,-.5,.5,-.52,-.52,.44,-.2,-.52,.5,-.2,-.5,.52,-.2,-.44,.52,-.2,-.44,.52,-.44,-.44,.44,-.52,-.5,.2,-.52,-.44,.2,-.52,-.2,.52,-.44,-.2,.52,-.5,-.2,.5,-.52,-.2,.44,-.52,-.5,.44,-.2,-.5,.5,-.2,-.44,.5,-.2,-.2,.44,-.5,-.2,.5,-.44,-.2,.5,-.5,-.5,.44,-.44,-.44,.44,-.5,-.44,.5,-.44,-.5,.2,-.5,-.5,.2,-.44,-.44,.2,-.5,.5,.5,-.5,.52,.2,-.5,.52,.2,-.44,.52,.44,-.44,.52,.5,-.5,.5,.52,-.5,.5,.5,-.52,.52,.44,-.2,.52,.5,-.2,.5,.52,-.2,.44,.52,-.2,.44,.52,-.44,.44,.44,-.52,.5,.2,-.52,.44,.2,-.52,.2,.52,-.44,.2,.52,-.5,.2,.5,-.52,.2,.44,-.52,.5,.44,-.2,.5,.5,-.2,.44,.5,-.2,.2,.44,-.5,.2,.5,-.44,.2,.5,-.5,.5,.44,-.44,.44,.44,-.5,.44,.5,-.44,.5,.2,-.5,.5,.2,-.44,.44,.2,-.5,-.5,-.5,-.5,-.52,-.2,-.5,-.52,-.2,-.44,-.52,-.44,-.44,-.52,-.5,-.5,-.5,-.52,-.5,-.5,-.5,-.52,-.52,-.44,-.2,-.52,-.5,-.2,-.5,-.52,-.2,-.44,-.52,-.2,-.44,-.52,-.44,-.44,-.44,-.52,-.5,-.2,-.52,-.44,-.2,-.52,-.2,-.52,-.44,-.2,-.52,-.5,-.2,-.5,-.52,-.2,-.44,-.52,-.5,-.44,-.2,-.5,-.5,-.2,-.44,-.5,-.2,-.2,-.44,-.5,-.2,-.5,-.44,-.2,-.5,-.5,-.5,-.44,-.44,-.44,-.44,-.5,-.44,-.5,-.44,-.5,-.2,-.5,-.5,-.2,-.44,-.44,-.2,-.5,.5,-.5,-.5,.52,-.2,-.5,.52,-.2,-.44,.52,-.44,-.44,.52,-.5,-.5,.5,-.52,-.5,.5,-.5,-.52,.52,-.44,-.2,.52,-.5,-.2,.5,-.52,-.2,.44,-.52,-.2,.44,-.52,-.44,.44,-.44,-.52,.5,-.2,-.52,.44,-.2,-.52,.2,-.52,-.44,.2,-.52,-.5,.2,-.5,-.52,.2,-.44,-.52,.5,-.44,-.2,.5,-.5,-.2,.44,-.5,-.2,.2,-.44,-.5,.2,-.5,-.44,.2,-.5,-.5,.5,-.44,-.44,.44,-.44,-.5,.44,-.5,-.44,.5,-.2,-.5,.5,-.2,-.44,.44,-.2,-.5],morphTargets:[],morphColors:[],normals:[-.25969,.62694,-.73451,-.62694,.25969,-.73451,-.91018,.29289,.29289,-.29289,.91018,.29289,-.62694,-.73451,.25969,-.25969,-.73451,.62694,-.29289,.29289,.91018,-.91018,.29289,.29289,.73451,.25969,.62694,.73451,.62694,.25969,-.29289,.91018,.29289,-.29289,.29289,.91018,-.29289,.29289,.91018,-.29289,.91018,.29289,-.91018,.29289,.29289,.57735,-.57735,-.57735,.57735,-.57735,.57735,.40825,-.40825,.8165,.40825,-.40825,-.8165,.57735,-.57735,.57735,.57735,-.57735,-.57735,.40825,-.40825,-.8165,.40825,-.40825,.8165,.57735,.57735,-.57735,.57735,-.57735,-.57735,.40825,-.8165,-.40825,.40825,.8165,-.40825,.57735,-.57735,-.57735,.57735,.57735,-.57735,.40825,.8165,-.40825,.40825,-.8165,-.40825,-.57735,-.57735,-.57735,.57735,-.57735,-.57735,.8165,-.40825,-.40825,-.8165,-.40825,-.40825,.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.8165,-.40825,-.40825,.8165,-.40825,-.40825,.57735,-.57735,.57735,.40825,-.40825,.8165,-.29289,.29289,.91018,-.25969,-.73451,.62694,.40825,-.40825,.8165,.57735,-.57735,.57735,.73451,.25969,.62694,-.29289,.29289,.91018,-.91018,.29289,.29289,-.8165,-.40825,-.40825,-.57735,-.57735,-.57735,-.62694,-.73451,.25969,-.57735,-.57735,-.57735,-.8165,-.40825,-.40825,-.91018,.29289,.29289,-.62694,.25969,-.73451,.40825,.8165,-.40825,.57735,.57735,-.57735,-.25969,.62694,-.73451,-.29289,.91018,.29289,.57735,.57735,-.57735,.40825,.8165,-.40825,-.29289,.91018,.29289,.73451,.62694,.25969,.57735,-.57735,-.57735,.8165,-.40825,-.40825,.57735,-.57735,-.57735,.30151,-.90453,-.30151,.8165,-.40825,-.40825,.57735,-.57735,-.57735,.30151,-.30151,-.90453,.57735,-.57735,-.57735,.57735,-.57735,-.57735,.40825,-.8165,-.40825,.57735,-.57735,-.57735,.30151,-.30151,-.90453,.57735,-.57735,-.57735,.40825,-.8165,-.40825,.57735,-.57735,-.57735,.90453,-.30151,-.30151,.40825,-.40825,-.8165,.57735,-.57735,-.57735,.30151,-.90453,-.30151,.57735,-.57735,-.57735,.57735,-.57735,-.57735,.40825,-.40825,-.8165,.57735,-.57735,-.57735,.90453,-.30151,-.30151,.57735,-.57735,-.57735,.90453,-.30151,-.30151,.73451,.25969,.62694,.57735,-.57735,.57735,.90453,-.30151,-.30151,.73451,.62694,.25969,.73451,.25969,.62694,.57735,-.57735,-.57735,.57735,.57735,-.57735,.73451,.62694,.25969,.90453,-.30151,-.30151,-.62694,.25969,-.73451,-.25969,.62694,-.73451,.30151,-.30151,-.90453,-.62694,.25969,-.73451,.30151,-.30151,-.90453,.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.62694,-.73451,.25969,-.57735,-.57735,-.57735,.57735,-.57735,-.57735,.30151,-.90453,-.30151,-.62694,-.73451,.25969,.30151,-.90453,-.30151,-.25969,-.73451,.62694,.30151,-.30151,-.90453,-.25969,.62694,-.73451,.57735,.57735,-.57735,.57735,-.57735,-.57735,-.25969,-.73451,.62694,.30151,-.90453,-.30151,.57735,-.57735,-.57735,.57735,-.57735,.57735,.91018,.29289,.29289,.62694,.25969,-.73451,.25969,.62694,-.73451,.29289,.91018,.29289,.29289,.29289,.91018,.25969,-.73451,.62694,.62694,-.73451,.25969,.91018,.29289,.29289,.29289,.91018,.29289,-.73451,.62694,.25969,-.73451,.25969,.62694,.29289,.29289,.91018,.29289,.91018,.29289,.29289,.29289,.91018,.91018,.29289,.29289,-.40825,-.40825,.8165,-.57735,-.57735,.57735,-.57735,-.57735,-.57735,-.40825,-.40825,-.8165,-.40825,-.40825,-.8165,-.57735,-.57735,-.57735,-.57735,-.57735,.57735,-.40825,-.40825,.8165,-.40825,-.8165,-.40825,-.57735,-.57735,-.57735,-.57735,.57735,-.57735,-.40825,.8165,-.40825,-.40825,.8165,-.40825,-.57735,.57735,-.57735,-.57735,-.57735,-.57735,-.40825,-.8165,-.40825,-.8165,-.40825,-.40825,-.57735,-.57735,-.57735,.57735,-.57735,-.57735,.8165,-.40825,-.40825,.8165,-.40825,-.40825,.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.8165,-.40825,-.40825,.29289,.29289,.91018,-.40825,-.40825,.8165,-.57735,-.57735,.57735,.25969,-.73451,.62694,-.73451,.25969,.62694,-.57735,-.57735,.57735,-.40825,-.40825,.8165,.29289,.29289,.91018,.57735,-.57735,-.57735,.8165,-.40825,-.40825,.91018,.29289,.29289,.62694,-.73451,.25969,.91018,.29289,.29289,.8165,-.40825,-.40825,.57735,-.57735,-.57735,.62694,.25969,-.73451,.25969,.62694,-.73451,-.57735,.57735,-.57735,-.40825,.8165,-.40825,.29289,.91018,.29289,.29289,.91018,.29289,-.40825,.8165,-.40825,-.57735,.57735,-.57735,-.73451,.62694,.25969,-.57735,-.57735,-.57735,-.8165,-.40825,-.40825,-.57735,-.57735,-.57735,-.30151,-.90453,-.30151,-.30151,-.30151,-.90453,-.57735,-.57735,-.57735,-.8165,-.40825,-.40825,-.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.40825,-.8165,-.40825,-.57735,-.57735,-.57735,-.30151,-.30151,-.90453,-.57735,-.57735,-.57735,-.40825,-.8165,-.40825,-.57735,-.57735,-.57735,-.90453,-.30151,-.30151,-.30151,-.90453,-.30151,-.57735,-.57735,-.57735,-.40825,-.40825,-.8165,-.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.40825,-.40825,-.8165,-.57735,-.57735,-.57735,-.90453,-.30151,-.30151,-.73451,.25969,.62694,-.90453,-.30151,-.30151,-.57735,-.57735,-.57735,-.57735,-.57735,.57735,-.73451,.62694,.25969,-.90453,-.30151,-.30151,-.73451,.25969,.62694,-.73451,.62694,.25969,-.57735,.57735,-.57735,-.57735,-.57735,-.57735,-.90453,-.30151,-.30151,.25969,.62694,-.73451,.62694,.25969,-.73451,-.30151,-.30151,-.90453,-.57735,-.57735,-.57735,-.30151,-.30151,-.90453,.62694,.25969,-.73451,.57735,-.57735,-.57735,-.57735,-.57735,-.57735,.57735,-.57735,-.57735,.62694,-.73451,.25969,-.30151,-.90453,-.30151,-.30151,-.90453,-.30151,.62694,-.73451,.25969,.25969,-.73451,.62694,-.57735,.57735,-.57735,.25969,.62694,-.73451,-.30151,-.30151,-.90453,-.57735,-.57735,-.57735,-.57735,-.57735,-.57735,-.30151,-.90453,-.30151,.25969,-.73451,.62694,-.57735,-.57735,.57735,-.91018,-.29289,.29289,-.62694,-.25969,-.73451,-.25969,-.62694,-.73451,-.29289,-.91018,.29289,-.29289,-.29289,.91018,-.25969,.73451,.62694,-.62694,.73451,.25969,-.91018,-.29289,.29289,-.29289,-.91018,.29289,.73451,-.62694,.25969,.73451,-.25969,.62694,-.29289,-.29289,.91018,-.29289,-.91018,.29289,-.29289,-.29289,.91018,-.91018,-.29289,.29289,.40825,.40825,.8165,.57735,.57735,.57735,.57735,.57735,-.57735,.40825,.40825,-.8165,.40825,.40825,-.8165,.57735,.57735,-.57735,.57735,.57735,.57735,.40825,.40825,.8165,.40825,.8165,-.40825,.57735,.57735,-.57735,.57735,-.57735,-.57735,.40825,-.8165,-.40825,.40825,-.8165,-.40825,.57735,-.57735,-.57735,.57735,.57735,-.57735,.40825,.8165,-.40825,.8165,.40825,-.40825,.57735,.57735,-.57735,-.57735,.57735,-.57735,-.8165,.40825,-.40825,-.8165,.40825,-.40825,-.57735,.57735,-.57735,.57735,.57735,-.57735,.8165,.40825,-.40825,-.29289,-.29289,.91018,.40825,.40825,.8165,.57735,.57735,.57735,-.25969,.73451,.62694,.73451,-.25969,.62694,.57735,.57735,.57735,.40825,.40825,.8165,-.29289,-.29289,.91018,-.57735,.57735,-.57735,-.8165,.40825,-.40825,-.91018,-.29289,.29289,-.62694,.73451,.25969,-.91018,-.29289,.29289,-.8165,.40825,-.40825,-.57735,.57735,-.57735,-.62694,-.25969,-.73451,-.25969,-.62694,-.73451,.57735,-.57735,-.57735,.40825,-.8165,-.40825,-.29289,-.91018,.29289,-.29289,-.91018,.29289,.40825,-.8165,-.40825,.57735,-.57735,-.57735,.73451,-.62694,.25969,.57735,.57735,-.57735,.8165,.40825,-.40825,.57735,.57735,-.57735,.30151,.90453,-.30151,.30151,.30151,-.90453,.57735,.57735,-.57735,.8165,.40825,-.40825,.57735,.57735,-.57735,.57735,.57735,-.57735,.40825,.8165,-.40825,.57735,.57735,-.57735,.30151,.30151,-.90453,.57735,.57735,-.57735,.40825,.8165,-.40825,.57735,.57735,-.57735,.90453,.30151,-.30151,.30151,.90453,-.30151,.57735,.57735,-.57735,.40825,.40825,-.8165,.57735,.57735,-.57735,.57735,.57735,-.57735,.40825,.40825,-.8165,.57735,.57735,-.57735,.90453,.30151,-.30151,.73451,-.25969,.62694,.90453,.30151,-.30151,.57735,.57735,-.57735,.57735,.57735,.57735,.73451,-.62694,.25969,.90453,.30151,-.30151,.73451,-.25969,.62694,.73451,-.62694,.25969,.57735,-.57735,-.57735,.57735,.57735,-.57735,.90453,.30151,-.30151,-.25969,-.62694,-.73451,-.62694,-.25969,-.73451,.30151,.30151,-.90453,.57735,.57735,-.57735,.30151,.30151,-.90453,-.62694,-.25969,-.73451,-.57735,.57735,-.57735,.57735,.57735,-.57735,-.57735,.57735,-.57735,-.62694,.73451,.25969,.30151,.90453,-.30151,.30151,.90453,-.30151,-.62694,.73451,.25969,-.25969,.73451,.62694,.57735,-.57735,-.57735,-.25969,-.62694,-.73451,.30151,.30151,-.90453,.57735,.57735,-.57735,.57735,.57735,-.57735,.30151,.90453,-.30151,-.25969,.73451,.62694,.57735,.57735,.57735,.25969,-.62694,-.73451,.62694,-.25969,-.73451,.91018,-.29289,.29289,.29289,-.91018,.29289,.62694,.73451,.25969,.25969,.73451,.62694,.29289,-.29289,.91018,.91018,-.29289,.29289,-.73451,-.25969,.62694,-.73451,-.62694,.25969,.29289,-.91018,.29289,.29289,-.29289,.91018,.29289,-.29289,.91018,.29289,-.91018,.29289,.91018,-.29289,.29289,-.57735,.57735,-.57735,-.57735,.57735,.57735,-.40825,.40825,.8165,-.40825,.40825,-.8165,-.57735,.57735,.57735,-.57735,.57735,-.57735,-.40825,.40825,-.8165,-.40825,.40825,.8165,-.57735,-.57735,-.57735,-.57735,.57735,-.57735,-.40825,.8165,-.40825,-.40825,-.8165,-.40825,-.57735,.57735,-.57735,-.57735,-.57735,-.57735,-.40825,-.8165,-.40825,-.40825,.8165,-.40825,.57735,.57735,-.57735,-.57735,.57735,-.57735,-.8165,.40825,-.40825,.8165,.40825,-.40825,-.57735,.57735,-.57735,.57735,.57735,-.57735,.8165,.40825,-.40825,-.8165,.40825,-.40825,-.57735,.57735,.57735,-.40825,.40825,.8165,.29289,-.29289,.91018,.25969,.73451,.62694,-.40825,.40825,.8165,-.57735,.57735,.57735,-.73451,-.25969,.62694,.29289,-.29289,.91018,.91018,-.29289,.29289,.8165,.40825,-.40825,.57735,.57735,-.57735,.62694,.73451,.25969,.57735,.57735,-.57735,.8165,.40825,-.40825,.91018,-.29289,.29289,.62694,-.25969,-.73451,-.40825,-.8165,-.40825,-.57735,-.57735,-.57735,.25969,-.62694,-.73451,.29289,-.91018,.29289,-.57735,-.57735,-.57735,-.40825,-.8165,-.40825,.29289,-.91018,.29289,-.73451,-.62694,.25969,-.57735,.57735,-.57735,-.8165,.40825,-.40825,-.57735,.57735,-.57735,-.30151,.90453,-.30151,-.8165,.40825,-.40825,-.57735,.57735,-.57735,-.30151,.30151,-.90453,-.57735,.57735,-.57735,-.57735,.57735,-.57735,-.40825,.8165,-.40825,-.57735,.57735,-.57735,-.30151,.30151,-.90453,-.57735,.57735,-.57735,-.40825,.8165,-.40825,-.57735,.57735,-.57735,-.90453,.30151,-.30151,-.40825,.40825,-.8165,-.57735,.57735,-.57735,-.30151,.90453,-.30151,-.57735,.57735,-.57735,-.57735,.57735,-.57735,-.40825,.40825,-.8165,-.57735,.57735,-.57735,-.90453,.30151,-.30151,-.57735,.57735,-.57735,-.90453,.30151,-.30151,-.73451,-.25969,.62694,-.57735,.57735,.57735,-.90453,.30151,-.30151,-.73451,-.62694,.25969,-.73451,-.25969,.62694,-.57735,.57735,-.57735,-.57735,-.57735,-.57735,-.73451,-.62694,.25969,-.90453,.30151,-.30151,.62694,-.25969,-.73451,.25969,-.62694,-.73451,-.30151,.30151,-.90453,.62694,-.25969,-.73451,-.30151,.30151,-.90453,-.57735,.57735,-.57735,.57735,.57735,-.57735,.62694,.73451,.25969,.57735,.57735,-.57735,-.57735,.57735,-.57735,-.30151,.90453,-.30151,.62694,.73451,.25969,-.30151,.90453,-.30151,.25969,.73451,.62694,-.30151,.30151,-.90453,.25969,-.62694,-.73451,-.57735,-.57735,-.57735,-.57735,.57735,-.57735,.25969,.73451,.62694,-.30151,.90453,-.30151,-.57735,.57735,-.57735,-.57735,.57735,.57735,-.91018,.29289,-.29289,-.62694,.25969,.73451,-.25969,.62694,.73451,-.29289,.91018,-.29289,-.29289,.29289,-.91018,-.25969,-.73451,-.62694,-.62694,-.73451,-.25969,-.91018,.29289,-.29289,-.29289,.91018,-.29289,.73451,.62694,-.25969,.73451,.25969,-.62694,-.29289,.29289,-.91018,-.29289,.91018,-.29289,-.29289,.29289,-.91018,-.91018,.29289,-.29289,.40825,-.40825,-.8165,.57735,-.57735,-.57735,.57735,-.57735,.57735,.40825,-.40825,.8165,.40825,-.40825,.8165,.57735,-.57735,.57735,.57735,-.57735,-.57735,.40825,-.40825,-.8165,.40825,-.8165,.40825,.57735,-.57735,.57735,.57735,.57735,.57735,.40825,.8165,.40825,.40825,.8165,.40825,.57735,.57735,.57735,.57735,-.57735,.57735,.40825,-.8165,.40825,.8165,-.40825,.40825,.57735,-.57735,.57735,-.57735,-.57735,.57735,-.8165,-.40825,.40825,-.8165,-.40825,.40825,-.57735,-.57735,.57735,.57735,-.57735,.57735,.8165,-.40825,.40825,-.29289,.29289,-.91018,.40825,-.40825,-.8165,.57735,-.57735,-.57735,-.25969,-.73451,-.62694,.73451,.25969,-.62694,.57735,-.57735,-.57735,.40825,-.40825,-.8165,-.29289,.29289,-.91018,-.57735,-.57735,.57735,-.8165,-.40825,.40825,-.91018,.29289,-.29289,-.62694,-.73451,-.25969,-.91018,.29289,-.29289,-.8165,-.40825,.40825,-.57735,-.57735,.57735,-.62694,.25969,.73451,-.25969,.62694,.73451,.57735,.57735,.57735,.40825,.8165,.40825,-.29289,.91018,-.29289,-.29289,.91018,-.29289,.40825,.8165,.40825,.57735,.57735,.57735,.73451,.62694,-.25969,.57735,-.57735,.57735,.8165,-.40825,.40825,.57735,-.57735,.57735,.30151,-.90453,.30151,.30151,-.30151,.90453,.57735,-.57735,.57735,.8165,-.40825,.40825,.57735,-.57735,.57735,.57735,-.57735,.57735,.40825,-.8165,.40825,.57735,-.57735,.57735,.30151,-.30151,.90453,.57735,-.57735,.57735,.40825,-.8165,.40825,.57735,-.57735,.57735,.90453,-.30151,.30151,.30151,-.90453,.30151,.57735,-.57735,.57735,.40825,-.40825,.8165,.57735,-.57735,.57735,.57735,-.57735,.57735,.40825,-.40825,.8165,.57735,-.57735,.57735,.90453,-.30151,.30151,.73451,.25969,-.62694,.90453,-.30151,.30151,.57735,-.57735,.57735,.57735,-.57735,-.57735,.73451,.62694,-.25969,.90453,-.30151,.30151,.73451,.25969,-.62694,.73451,.62694,-.25969,.57735,.57735,.57735,.57735,-.57735,.57735,.90453,-.30151,.30151,-.25969,.62694,.73451,-.62694,.25969,.73451,.30151,-.30151,.90453,.57735,-.57735,.57735,.30151,-.30151,.90453,-.62694,.25969,.73451,-.57735,-.57735,.57735,.57735,-.57735,.57735,-.57735,-.57735,.57735,-.62694,-.73451,-.25969,.30151,-.90453,.30151,.30151,-.90453,.30151,-.62694,-.73451,-.25969,-.25969,-.73451,-.62694,.57735,.57735,.57735,-.25969,.62694,.73451,.30151,-.30151,.90453,.57735,-.57735,.57735,.57735,-.57735,.57735,.30151,-.90453,.30151,-.25969,-.73451,-.62694,.57735,-.57735,-.57735,.25969,.62694,.73451,.62694,.25969,.73451,.91018,.29289,-.29289,.29289,.91018,-.29289,.62694,-.73451,-.25969,.25969,-.73451,-.62694,.29289,.29289,-.91018,.91018,.29289,-.29289,-.73451,.25969,-.62694,-.73451,.62694,-.25969,.29289,.91018,-.29289,.29289,.29289,-.91018,.29289,.29289,-.91018,.29289,.91018,-.29289,.91018,.29289,-.29289,-.57735,-.57735,.57735,-.57735,-.57735,-.57735,-.40825,-.40825,-.8165,-.40825,-.40825,.8165,-.57735,-.57735,-.57735,-.57735,-.57735,.57735,-.40825,-.40825,.8165,-.40825,-.40825,-.8165,-.57735,.57735,.57735,-.57735,-.57735,.57735,-.40825,-.8165,.40825,-.40825,.8165,.40825,-.57735,-.57735,.57735,-.57735,.57735,.57735,-.40825,.8165,.40825,-.40825,-.8165,.40825,.57735,-.57735,.57735,-.57735,-.57735,.57735,-.8165,-.40825,.40825,.8165,-.40825,.40825,-.57735,-.57735,.57735,.57735,-.57735,.57735,.8165,-.40825,.40825,-.8165,-.40825,.40825,-.57735,-.57735,-.57735,-.40825,-.40825,-.8165,.29289,.29289,-.91018,.25969,-.73451,-.62694,-.40825,-.40825,-.8165,-.57735,-.57735,-.57735,-.73451,.25969,-.62694,.29289,.29289,-.91018,.91018,.29289,-.29289,.8165,-.40825,.40825,.57735,-.57735,.57735,.62694,-.73451,-.25969,.57735,-.57735,.57735,.8165,-.40825,.40825,.91018,.29289,-.29289,.62694,.25969,.73451,-.40825,.8165,.40825,-.57735,.57735,.57735,.25969,.62694,.73451,.29289,.91018,-.29289,-.57735,.57735,.57735,-.40825,.8165,.40825,.29289,.91018,-.29289,-.73451,.62694,-.25969,-.57735,-.57735,.57735,-.8165,-.40825,.40825,-.57735,-.57735,.57735,-.30151,-.90453,.30151,-.8165,-.40825,.40825,-.57735,-.57735,.57735,-.30151,-.30151,.90453,-.57735,-.57735,.57735,-.57735,-.57735,.57735,-.40825,-.8165,.40825,-.57735,-.57735,.57735,-.30151,-.30151,.90453,-.57735,-.57735,.57735,-.40825,-.8165,.40825,-.57735,-.57735,.57735,-.90453,-.30151,.30151,-.40825,-.40825,.8165,-.57735,-.57735,.57735,-.30151,-.90453,.30151,-.57735,-.57735,.57735,-.57735,-.57735,.57735,-.40825,-.40825,.8165,-.57735,-.57735,.57735,-.90453,-.30151,.30151,-.57735,-.57735,.57735,-.90453,-.30151,.30151,-.73451,.25969,-.62694,-.57735,-.57735,-.57735,-.90453,-.30151,.30151,-.73451,.62694,-.25969,-.73451,.25969,-.62694,-.57735,-.57735,.57735,-.57735,.57735,.57735,-.73451,.62694,-.25969,-.90453,-.30151,.30151,.62694,.25969,.73451,.25969,.62694,.73451,-.30151,-.30151,.90453,.62694,.25969,.73451,-.30151,-.30151,.90453,-.57735,-.57735,.57735,.57735,-.57735,.57735,.62694,-.73451,-.25969,.57735,-.57735,.57735,-.57735,-.57735,.57735,-.30151,-.90453,.30151,.62694,-.73451,-.25969,-.30151,-.90453,.30151,.25969,-.73451,-.62694,-.30151,-.30151,.90453,.25969,.62694,.73451,-.57735,.57735,.57735,-.57735,-.57735,.57735,.25969,-.73451,-.62694,-.30151,-.90453,.30151,-.57735,-.57735,.57735,-.57735,-.57735,-.57735,-.25969,-.62694,.73451,-.62694,-.25969,.73451,-.91018,-.29289,-.29289,-.29289,-.91018,-.29289,-.62694,.73451,-.25969,-.25969,.73451,-.62694,-.29289,-.29289,-.91018,-.91018,-.29289,-.29289,.73451,-.25969,-.62694,.73451,-.62694,-.25969,-.29289,-.91018,-.29289,-.29289,-.29289,-.91018,-.29289,-.29289,-.91018,-.29289,-.91018,-.29289,-.91018,-.29289,-.29289,.57735,.57735,.57735,.57735,.57735,-.57735,.40825,.40825,-.8165,.40825,.40825,.8165,.57735,.57735,-.57735,.57735,.57735,.57735,.40825,.40825,.8165,.40825,.40825,-.8165,.57735,-.57735,.57735,.57735,.57735,.57735,.40825,.8165,.40825,.40825,-.8165,.40825,.57735,.57735,.57735,.57735,-.57735,.57735,.40825,-.8165,.40825,.40825,.8165,.40825,-.57735,.57735,.57735,.57735,.57735,.57735,.8165,.40825,.40825,-.8165,.40825,.40825,.57735,.57735,.57735,-.57735,.57735,.57735,-.8165,.40825,.40825,.8165,.40825,.40825,.57735,.57735,-.57735,.40825,.40825,-.8165,-.29289,-.29289,-.91018,-.25969,.73451,-.62694,.40825,.40825,-.8165,.57735,.57735,-.57735,.73451,-.25969,-.62694,-.29289,-.29289,-.91018,-.91018,-.29289,-.29289,-.8165,.40825,.40825,-.57735,.57735,.57735,-.62694,.73451,-.25969,-.57735,.57735,.57735,-.8165,.40825,.40825,-.91018,-.29289,-.29289,-.62694,-.25969,.73451,.40825,-.8165,.40825,.57735,-.57735,.57735,-.25969,-.62694,.73451,-.29289,-.91018,-.29289,.57735,-.57735,.57735,.40825,-.8165,.40825,-.29289,-.91018,-.29289,.73451,-.62694,-.25969,.57735,.57735,.57735,.8165,.40825,.40825,.57735,.57735,.57735,.30151,.90453,.30151,.8165,.40825,.40825,.57735,.57735,.57735,.30151,.30151,.90453,.57735,.57735,.57735,.57735,.57735,.57735,.40825,.8165,.40825,.57735,.57735,.57735,.30151,.30151,.90453,.57735,.57735,.57735,.40825,.8165,.40825,.57735,.57735,.57735,.90453,.30151,.30151,.40825,.40825,.8165,.57735,.57735,.57735,.30151,.90453,.30151,.57735,.57735,.57735,.57735,.57735,.57735,.40825,.40825,.8165,.57735,.57735,.57735,.90453,.30151,.30151,.57735,.57735,.57735,.90453,.30151,.30151,.73451,-.25969,-.62694,.57735,.57735,-.57735,.90453,.30151,.30151,.73451,-.62694,-.25969,.73451,-.25969,-.62694,.57735,.57735,.57735,.57735,-.57735,.57735,.73451,-.62694,-.25969,.90453,.30151,.30151,-.62694,-.25969,.73451,-.25969,-.62694,.73451,.30151,.30151,.90453,-.62694,-.25969,.73451,.30151,.30151,.90453,.57735,.57735,.57735,-.57735,.57735,.57735,-.62694,.73451,-.25969,-.57735,.57735,.57735,.57735,.57735,.57735,.30151,.90453,.30151,-.62694,.73451,-.25969,.30151,.90453,.30151,-.25969,.73451,-.62694,.30151,.30151,.90453,-.25969,-.62694,.73451,.57735,-.57735,.57735,.57735,.57735,.57735,-.25969,.73451,-.62694,.30151,.90453,.30151,.57735,.57735,.57735,.57735,.57735,-.57735,.91018,-.29289,-.29289,.62694,-.25969,.73451,.25969,-.62694,.73451,.29289,-.91018,-.29289,.29289,-.29289,-.91018,.25969,.73451,-.62694,.62694,.73451,-.25969,.91018,-.29289,-.29289,.29289,-.91018,-.29289,-.73451,-.62694,-.25969,-.73451,-.25969,-.62694,.29289,-.29289,-.91018,.29289,-.91018,-.29289,.29289,-.29289,-.91018,.91018,-.29289,-.29289,-.40825,.40825,-.8165,-.57735,.57735,-.57735,-.57735,.57735,.57735,-.40825,.40825,.8165,-.40825,.40825,.8165,-.57735,.57735,.57735,-.57735,.57735,-.57735,-.40825,.40825,-.8165,-.40825,.8165,.40825,-.57735,.57735,.57735,-.57735,-.57735,.57735,-.40825,-.8165,.40825,-.40825,-.8165,.40825,-.57735,-.57735,.57735,-.57735,.57735,.57735,-.40825,.8165,.40825,-.8165,.40825,.40825,-.57735,.57735,.57735,.57735,.57735,.57735,.8165,.40825,.40825,.8165,.40825,.40825,.57735,.57735,.57735,-.57735,.57735,.57735,-.8165,.40825,.40825,.29289,-.29289,-.91018,-.40825,.40825,-.8165,-.57735,.57735,-.57735,.25969,.73451,-.62694,-.73451,-.25969,-.62694,-.57735,.57735,-.57735,-.40825,.40825,-.8165,.29289,-.29289,-.91018,.57735,.57735,.57735,.8165,.40825,.40825,.91018,-.29289,-.29289,.62694,.73451,-.25969,.91018,-.29289,-.29289,.8165,.40825,.40825,.57735,.57735,.57735,.62694,-.25969,.73451,.25969,-.62694,.73451,-.57735,-.57735,.57735,-.40825,-.8165,.40825,.29289,-.91018,-.29289,.29289,-.91018,-.29289,-.40825,-.8165,.40825,-.57735,-.57735,.57735,-.73451,-.62694,-.25969,-.57735,.57735,.57735,-.8165,.40825,.40825,-.57735,.57735,.57735,-.30151,.90453,.30151,-.30151,.30151,.90453,-.57735,.57735,.57735,-.8165,.40825,.40825,-.57735,.57735,.57735,-.57735,.57735,.57735,-.40825,.8165,.40825,-.57735,.57735,.57735,-.30151,.30151,.90453,-.57735,.57735,.57735,-.40825,.8165,.40825,-.57735,.57735,.57735,-.90453,.30151,.30151,-.30151,.90453,.30151,-.57735,.57735,.57735,-.40825,.40825,.8165,-.57735,.57735,.57735,-.57735,.57735,.57735,-.40825,.40825,.8165,-.57735,.57735,.57735,-.90453,.30151,.30151,-.73451,-.25969,-.62694,-.90453,.30151,.30151,-.57735,.57735,.57735,-.57735,.57735,-.57735,-.73451,-.62694,-.25969,-.90453,.30151,.30151,-.73451,-.25969,-.62694,-.73451,-.62694,-.25969,-.57735,-.57735,.57735,-.57735,.57735,.57735,-.90453,.30151,.30151,.25969,-.62694,.73451,.62694,-.25969,.73451,-.30151,.30151,.90453,-.57735,.57735,.57735,-.30151,.30151,.90453,.62694,-.25969,.73451,.57735,.57735,.57735,-.57735,.57735,.57735,.57735,.57735,.57735,.62694,.73451,-.25969,-.30151,.90453,.30151,-.30151,.90453,.30151,.62694,.73451,-.25969,.25969,.73451,-.62694,-.57735,-.57735,.57735,.25969,-.62694,.73451,-.30151,.30151,.90453,-.57735,.57735,.57735,-.57735,.57735,.57735,-.30151,.90453,.30151,.25969,.73451,-.62694,-.57735,.57735,-.57735],colors:[],uvs:[[]],faces:[35,9,8,4,5,0,0,1,2,3,35,1,13,6,4,0,4,5,6,7,35,17,16,5,6,0,8,9,10,11,34,6,5,4,0,12,13,14,35,22,18,12,26,0,15,16,17,18,35,14,30,26,12,0,19,20,21,22,35,15,23,27,11,0,23,24,25,26,35,21,10,11,27,0,27,28,29,30,35,7,19,25,3,0,31,32,33,34,35,29,2,3,25,0,35,36,37,38,35,14,12,6,13,0,39,40,41,42,35,12,18,17,6,0,43,44,45,46,35,4,3,2,1,0,47,48,49,50,35,7,3,4,8,0,51,52,53,54,35,11,10,9,5,0,55,56,57,58,35,15,11,5,16,0,59,60,61,62,35,29,25,0,28,0,63,64,65,66,35,25,19,20,0,0,67,68,69,70,35,21,27,0,20,0,71,72,73,74,35,0,27,23,24,0,75,76,77,78,35,26,30,28,0,0,79,80,81,82,35,22,26,0,24,0,83,84,85,86,35,22,24,17,18,0,87,88,89,90,34,24,16,17,0,91,92,93,35,23,15,16,24,0,94,95,96,97,34,8,9,20,0,98,99,100,35,8,20,19,7,0,101,102,103,104,35,1,2,29,28,0,105,106,107,108,34,1,28,13,0,109,110,111,35,20,9,10,21,0,112,113,114,115,35,13,28,30,14,0,116,117,118,119,35,35,39,40,36,0,120,121,122,123,35,37,44,32,35,0,124,125,126,127,35,36,47,48,37,0,128,129,130,131,34,36,37,35,0,132,133,134,35,43,49,53,57,0,135,136,137,138,35,57,61,45,43,0,139,140,141,142,35,58,54,46,42,0,143,144,145,146,35,42,41,52,58,0,147,148,149,150,35,56,50,38,34,0,151,152,153,154,35,34,33,60,56,0,155,156,157,158,35,37,43,45,44,0,159,160,161,162,35,48,49,43,37,0,163,164,165,166,35,33,34,35,32,0,167,168,169,170,35,35,34,38,39,0,171,172,173,174,35,40,41,42,36,0,175,176,177,178,35,36,42,46,47,0,179,180,181,182,35,31,56,60,59,0,183,184,185,186,35,51,50,56,31,0,187,188,189,190,35,31,58,52,51,0,191,192,193,194,35,54,58,31,55,0,195,196,197,198,35,59,61,57,31,0,199,200,201,202,35,31,57,53,55,0,203,204,205,206,35,48,55,53,49,0,207,208,209,210,34,47,55,48,0,211,212,213,35,47,46,54,55,0,214,215,216,217,34,40,39,51,0,218,219,220,35,50,51,39,38,0,221,222,223,224,35,60,33,32,59,0,225,226,227,228,34,59,32,44,0,229,230,231,35,41,40,51,52,0,232,233,234,235,35,61,59,44,45,0,236,237,238,239,35,66,70,71,67,0,240,241,242,243,35,68,75,63,66,0,244,245,246,247,35,67,78,79,68,0,248,249,250,251,34,67,68,66,0,252,253,254,35,74,80,84,88,0,255,256,257,258,35,88,92,76,74,0,259,260,261,262,35,89,85,77,73,0,263,264,265,266,35,73,72,83,89,0,267,268,269,270,35,87,81,69,65,0,271,272,273,274,35,65,64,91,87,0,275,276,277,278,35,68,74,76,75,0,279,280,281,282,35,79,80,74,68,0,283,284,285,286,35,64,65,66,63,0,287,288,289,290,35,66,65,69,70,0,291,292,293,294,35,71,72,73,67,0,295,296,297,298,35,67,73,77,78,0,299,300,301,302,35,62,87,91,90,0,303,304,305,306,35,82,81,87,62,0,307,308,309,310,35,62,89,83,82,0,311,312,313,314,35,85,89,62,86,0,315,316,317,318,35,90,92,88,62,0,319,320,321,322,35,62,88,84,86,0,323,324,325,326,35,79,86,84,80,0,327,328,329,330,34,78,86,79,0,331,332,333,35,78,77,85,86,0,334,335,336,337,34,71,70,82,0,338,339,340,35,81,82,70,69,0,341,342,343,344,35,91,64,63,90,0,345,346,347,348,34,90,63,75,0,349,350,351,35,72,71,82,83,0,352,353,354,355,35,92,90,75,76,0,356,357,358,359,35,102,101,97,98,0,360,361,362,363,35,94,106,99,97,0,364,365,366,367,35,110,109,98,99,0,368,369,370,371,34,99,98,97,0,372,373,374,35,115,111,105,119,0,375,376,377,378,35,107,123,119,105,0,379,380,381,382,35,108,116,120,104,0,383,384,385,386,35,114,103,104,120,0,387,388,389,390,35,100,112,118,96,0,391,392,393,394,35,122,95,96,118,0,395,396,397,398,35,107,105,99,106,0,399,400,401,402,35,105,111,110,99,0,403,404,405,406,35,97,96,95,94,0,407,408,409,410,35,100,96,97,101,0,411,412,413,414,35,104,103,102,98,0,415,416,417,418,35,108,104,98,109,0,419,420,421,422,35,122,118,93,121,0,423,424,425,426,35,118,112,113,93,0,427,428,429,430,35,114,120,93,113,0,431,432,433,434,35,93,120,116,117,0,435,436,437,438,35,119,123,121,93,0,439,440,441,442,35,115,119,93,117,0,443,444,445,446,35,115,117,110,111,0,447,448,449,450,34,117,109,110,0,451,452,453,35,116,108,109,117,0,454,455,456,457,34,101,102,113,0,458,459,460,35,101,113,112,100,0,461,462,463,464,35,94,95,122,121,0,465,466,467,468,34,94,121,106,0,469,470,471,35,113,102,103,114,0,472,473,474,475,35,106,121,123,107,0,476,477,478,479,35,128,132,133,129,0,480,481,482,483,35,130,137,125,128,0,484,485,486,487,35,129,140,141,130,0,488,489,490,491,34,129,130,128,0,492,493,494,35,136,142,146,150,0,495,496,497,498,35,150,154,138,136,0,499,500,501,502,35,151,147,139,135,0,503,504,505,506,35,135,134,145,151,0,507,508,509,510,35,149,143,131,127,0,511,512,513,514,35,127,126,153,149,0,515,516,517,518,35,130,136,138,137,0,519,520,521,522,35,141,142,136,130,0,523,524,525,526,35,126,127,128,125,0,527,528,529,530,35,128,127,131,132,0,531,532,533,534,35,133,134,135,129,0,535,536,537,538,35,129,135,139,140,0,539,540,541,542,35,124,149,153,152,0,543,544,545,546,35,144,143,149,124,0,547,548,549,550,35,124,151,145,144,0,551,552,553,554,35,147,151,124,148,0,555,556,557,558,35,152,154,150,124,0,559,560,561,562,35,124,150,146,148,0,563,564,565,566,35,141,148,146,142,0,567,568,569,570,34,140,148,141,0,571,572,573,35,140,139,147,148,0,574,575,576,577,34,133,132,144,0,578,579,580,35,143,144,132,131,0,581,582,583,584,35,153,126,125,152,0,585,586,587,588,34,152,125,137,0,589,590,591,35,134,133,144,145,0,592,593,594,595,35,154,152,137,138,0,596,597,598,599,35,164,163,159,160,0,600,601,602,603,35,156,168,161,159,0,604,605,606,607,35,172,171,160,161,0,608,609,610,611,34,161,160,159,0,612,613,614,35,177,173,167,181,0,615,616,617,618,35,169,185,181,167,0,619,620,621,622,35,170,178,182,166,0,623,624,625,626,35,176,165,166,182,0,627,628,629,630,35,162,174,180,158,0,631,632,633,634,35,184,157,158,180,0,635,636,637,638,35,169,167,161,168,0,639,640,641,642,35,167,173,172,161,0,643,644,645,646,35,159,158,157,156,0,647,648,649,650,35,162,158,159,163,0,651,652,653,654,35,166,165,164,160,0,655,656,657,658,35,170,166,160,171,0,659,660,661,662,35,184,180,155,183,0,663,664,665,666,35,180,174,175,155,0,667,668,669,670,35,176,182,155,175,0,671,672,673,674,35,155,182,178,179,0,675,676,677,678,35,181,185,183,155,0,679,680,681,682,35,177,181,155,179,0,683,684,685,686,35,177,179,172,173,0,687,688,689,690,34,179,171,172,0,691,692,693,35,178,170,171,179,0,694,695,696,697,34,163,164,175,0,698,699,700,35,163,175,174,162,0,701,702,703,704,35,156,157,184,183,0,705,706,707,708,34,156,183,168,0,709,710,711,35,175,164,165,176,0,712,713,714,715,35,168,183,185,169,0,716,717,718,719,35,195,194,190,191,0,720,721,722,723,35,187,199,192,190,0,724,725,726,727,35,203,202,191,192,0,728,729,730,731,34,192,191,190,0,732,733,734,35,208,204,198,212,0,735,736,737,738,35,200,216,212,198,0,739,740,741,742,35,201,209,213,197,0,743,744,745,746,35,207,196,197,213,0,747,748,749,750,35,193,205,211,189,0,751,752,753,754,35,215,188,189,211,0,755,756,757,758,35,200,198,192,199,0,759,760,761,762,35,198,204,203,192,0,763,764,765,766,35,190,189,188,187,0,767,768,769,770,35,193,189,190,194,0,771,772,773,774,35,197,196,195,191,0,775,776,777,778,35,201,197,191,202,0,779,780,781,782,35,215,211,186,214,0,783,784,785,786,35,211,205,206,186,0,787,788,789,790,35,207,213,186,206,0,791,792,793,794,35,186,213,209,210,0,795,796,797,798,35,212,216,214,186,0,799,800,801,802,35,208,212,186,210,0,803,804,805,806,35,208,210,203,204,0,807,808,809,810,34,210,202,203,0,811,812,813,35,209,201,202,210,0,814,815,816,817,34,194,195,206,0,818,819,820,35,194,206,205,193,0,821,822,823,824,35,187,188,215,214,0,825,826,827,828,34,187,214,199,0,829,830,831,35,206,195,196,207,0,832,833,834,835,35,199,214,216,200,0,836,837,838,839,35,221,225,226,222,0,840,841,842,843,35,223,230,218,221,0,844,845,846,847,35,222,233,234,223,0,848,849,850,851,34,222,223,221,0,852,853,854,35,229,235,239,243,0,855,856,857,858,35,243,247,231,229,0,859,860,861,862,35,244,240,232,228,0,863,864,865,866,35,228,227,238,244,0,867,868,869,870,35,242,236,224,220,0,871,872,873,874,35,220,219,246,242,0,875,876,877,878,35,223,229,231,230,0,879,880,881,882,35,234,235,229,223,0,883,884,885,886,35,219,220,221,218,0,887,888,889,890,35,221,220,224,225,0,891,892,893,894,35,226,227,228,222,0,895,896,897,898,35,222,228,232,233,0,899,900,901,902,35,217,242,246,245,0,903,904,905,906,35,237,236,242,217,0,907,908,909,910,35,217,244,238,237,0,911,912,913,914,35,240,244,217,241,0,915,916,917,918,35,245,247,243,217,0,919,920,921,922,35,217,243,239,241,0,923,924,925,926,35,234,241,239,235,0,927,928,929,930,34,233,241,234,0,931,932,933,35,233,232,240,241,0,934,935,936,937,34,226,225,237,0,938,939,940,35,236,237,225,224,0,941,942,943,944,35,246,219,218,245,0,945,946,947,948,34,245,218,230,0,949,950,951,35,227,226,237,238,0,952,953,954,955,35,247,245,230,231,0,956,957,958,959]});
return a.geometry}function isInfinite(a){return!isFinite(a)}function init(){var a,b,c,d,e;a=document.createElement("div"),a.id="webgl-container",a.className="noselect webgl-container-noedit",document.body.appendChild(a),d=window.innerWidth||2,e=window.innerHeight||2,camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e4),camera.position.y=80,camera.position.z=100,camera.setViewOffset(d,e,0,-(e/6),d,e),controls=new THREE.OrbitControls(camera,$("#webgl-container")[0]),controls.rotateSpeed=$("#gl-info").data("rotateSpeed"),controls.zoomSpeed=$("#gl-info").data("zoomSpeed"),controls.panSpeed=$("#gl-info").data("panSpeed"),controls.noZoom=!1,controls.noPan=!1,controls.mapMode=!0,controls.minDistance=20,controls.maxDistance=500,controls.keyPanSpeed=25,controls.minPolarAngle=0,controls.maxPolarAngle=THREE.Math.degToRad(85),controls.target=new THREE.Vector3(0,10,0),controls.addEventListener("change",render),scene=new THREE.Scene,renderer=new THREE.WebGLRenderer({clearColor:0,clearAlpha:1,antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.autoClear=!1,a.appendChild(renderer.domElement),map=new SCMAP.Map(scene,SCMAP.data.map),editor=new SCMAP.Editor(map,camera),editor.panSpeed=.6,document.addEventListener("change",render),stats=new Stats,stats.domElement.style.position="absolute",stats.domElement.style.top="0px",stats.domElement.style.right="0px",stats.domElement.style.display="none",stats.domElement.style.zIndex="100",a.appendChild(stats.domElement),window.addEventListener("resize",onWindowResize,!1),renderer.domElement.addEventListener("mousedown",onDocumentMouseUpAndDown,!1),renderer.domElement.addEventListener("mouseup",onDocumentMouseUpAndDown,!1),b=new THREE.RenderPass(scene,camera),c=new THREE.ShaderPass(THREE.CopyShader),c.renderToScreen=!0,composer=new THREE.EffectComposer(renderer),composer.addPass(b),composer.addPass(c)}function buildCross(){var a=new THREE.MeshBasicMaterial({wireframe:!0,color:16711680,linewidth:1}),b=new THREE.Object3D,c=new THREE.Geometry;c.vertices.push(new THREE.Vector3(-50,1,0)),c.vertices.push(new THREE.Vector3(50,1,0));var d=new THREE.Line(c,a);b.add(d),c=new THREE.Geometry;var e=new THREE.MeshBasicMaterial({wireframe:!0,color:15790080,linewidth:1});c.vertices.push(new THREE.Vector3(0,1,-50)),c.vertices.push(new THREE.Vector3(0,1,50)),d=new THREE.Line(c,e),b.add(d);var f=new THREE.MeshBasicMaterial({wireframe:!0,color:240,linewidth:1});return c=new THREE.Geometry,c.vertices.push(new THREE.Vector3(0,-50,0)),c.vertices.push(new THREE.Vector3(0,50,0)),d=new THREE.Line(c,f),b.add(d),b}function onWindowResize(){var a=window.innerWidth||2,b=window.innerHeight||2;camera.aspect=a/b,camera.setViewOffset(a,b,0,-(b/8),a,b),camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),composer.reset()}function onDocumentMouseUpAndDown(a){var b,c,d,e;b=new THREE.Vector3(a.clientX/window.innerWidth*2-1,2*-(a.clientY/window.innerHeight)+1,.5),c=new THREE.Projector,c.unprojectVector(b,camera),d=new THREE.Raycaster(camera.position,b.sub(camera.position).normalize()),e=d.intersectObjects(map.interactables),map.handleSelection(a,e[0])}function makeSafeForCSS(a){return"string"==typeof a?a.replace(/[^a-z0-9]/g,function(a){var b=a.charCodeAt(0);return 32==b?"-":b>=65&&90>=b?"_"+a.toLowerCase():b.toString(16).slice(-4)}):void 0}function animate(){requestAnimationFrame(animate),void 0!==controls&&controls.update(),void 0!==editor&&editor.update(),stats.update(),render()}function render(){map.animateSelector(),renderer.clear(),composer.render()}if("undefined"==typeof jQuery)throw new Error("starcitizen-webgl-map requires jQuery");if("undefined"==typeof THREE)throw new Error("starcitizen-webgl-map requires THREE.js");var SCMAP=SCMAP||{REVISION:"2"};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},SCMAP.data={factions:[],crime_levels:[],uee_strategic_values:[],goods:[],map:{},systems:[]},SCMAP.Settings=function(){this.glow=!0,this.labels=!0},SCMAP.settings=new SCMAP.Settings,SCMAP.Editor=function(a,b,c){function d(a){g.enabled!==!1&&void 0!==g.map.selected&&(a.altKey||(a.preventDefault(),0===a.button?n=m.MOVE_XZ:2===a.button&&(n=m.MOVE_Y),h.set(a.clientX,a.clientY),g.domElement.addEventListener("mousemove",e,!1),g.domElement.addEventListener("mouseup",f,!1)))}function e(a){g.enabled!==!1&&void 0!==g.map.selected&&(a.altKey||(a.preventDefault(),(n===m.MOVE_XZ||n===m.MOVE_Y)&&(i.set(a.clientX,a.clientY),j.subVectors(i,h),g.move(j),h.copy(i)),g.update()))}function f(a){g.enabled!==!1&&(a.altKey||(g.domElement.removeEventListener("mousemove",e,!1),g.domElement.removeEventListener("mouseup",f,!1),n=m.NONE))}this.map=a,this.camera=b,this.domElement=void 0!==c?c:document,this.enabled=!1;var g=this,h=new THREE.Vector2,i=new THREE.Vector2,j=new THREE.Vector2,k=new THREE.Vector3,l=new THREE.Vector3,m={NONE:-1,MOVE_XZ:0,MOVE_Y:1},n=m.NONE,o={type:"change"};this.moveLeft=function(a){var b=window.controls.target.clone().setY(this.camera.position.y),c=this.camera.position.clone().sub(b).negate().setLength(a),d=new THREE.Vector3(0,1,0);c.applyAxisAngle(d,THREE.Math.degToRad(90)),k.add(c)},this.moveUp=function(a){var b=new THREE.Vector3,c=this.map.selected.object.matrix.elements;b.set(c[4],c[5],c[6]),b.multiplyScalar(a),k.add(b)},this.moveBack=function(a){var b=window.controls.target.clone().setY(this.camera.position.y),c=this.camera.position.clone().sub(b).negate().setLength(a);k.add(c)},this.move=function(a){var b=g.domElement===document?g.domElement.body:g.domElement,c=g.map.selected.object.position.clone().sub(g.camera.position),d=c.length();d*=Math.tan(g.camera.fov/2*Math.PI/180),n===m.MOVE_Y?g.moveUp(2*a.y*d/b.clientHeight):(g.moveLeft(2*a.x*d/b.clientHeight),g.moveBack(2*a.y*d/b.clientHeight))},this.update=function(){if(g.enabled!==!1&&void 0!==this.map.selected){this.map.selected.object.position.sub(k),void 0!==this.map.selected.object.system.labelObject&&this.map.selected.object.system.labelObject.position.sub(k);for(var a=0;a<this.map.selected.object.system.routeObjects.length;a++){var b=this.map.selected.object.system.routeObjects[a];b.geometry.verticesNeedUpdate=!0}k.set(0,0,0),l.distanceTo(this.map.selected.object.position)>0&&(this.dispatchEvent(o),l.copy(this.map.selected.object.position))}},this.domElement.addEventListener("contextmenu",function(a){a.preventDefault()},!1),this.domElement.addEventListener("mousedown",d,!1)},SCMAP.Editor.prototype=Object.create(THREE.EventDispatcher.prototype),SCMAP.SelectedSystemGeometry=SCMAP.SelectedSystemGeometry||_build_selected_system_object(),SCMAP.JumpPoint=function(a,b,c){this.name="string"==typeof c&&c.length>1?c:void 0,this.source=a instanceof SCMAP.System?a:void 0,this.destination=b instanceof SCMAP.System?b:void 0,this.is_valid=!1,this.drawn=!1,void 0===this.source||void 0===this.destination||this.source===this.destination?console.error("Invalid route created"):(this.is_valid=!0,void 0===this.name&&(this.name="["+this.source.name+" to "+this.destination.name+"]"))},SCMAP.JumpPoint.prototype={constructor:SCMAP.JumpPoint,length:function(){if(this.is_valid){var a=new THREE.Vector3;return a.subVectors(this.source.position,this.destination.position),a.length()}},sceneObject:function(){var a,b,c,d,e,f,g,h,i;if(!this.drawn){for(a=0;a<this.destination.jumppoints.length;a++)if(b=this.destination.jumppoints[a],b.destination==this.source&&b.drawn)return;for(c=new THREE.Color(this.source.color),d=new THREE.Color(this.destination.color),e=1,f=this.source.position.clone().sub(this.destination.position).length(),g=new THREE.Geometry,g.vertices.push(this.source.position),g.vertices.push(this.destination.position),c.setRGB(c.r*e,c.g*e,c.b*e),d.setRGB(d.r*e,d.g*e,d.b*e),h=c.clone().lerp(d,.5),g.colors[0]=h,g.colors[1]=h,this.setDrawn(),a=0;a<this.destination.jumppoints.length;a++)b=this.destination.jumppoints[a],b.destination==this.source&&b.setDrawn();return i=new THREE.Line(g,SCMAP.JumpPoint.lineMaterial),this.source.routeObjects.push(i),i}},setDrawn:function(){this.drawn=!0}},SCMAP.JumpPoint.lineMaterial=new THREE.LineBasicMaterial({color:13421772,linewidth:1,vertexColors:!0}),SCMAP.Faction=function(a){this.name="Unclaimed",this.isRealFaction=!1,this.color=new THREE.Color(16777215),this.dark=new THREE.Color(0),this.setValues(a),this.owns=[],this.material=void 0},SCMAP.Faction.prototype={constructor:SCMAP.Faction,claim:function(a){return!a instanceof SCMAP.System?(new Error("A faction can only claim ownership over a system"),void 0):(this.owns.push(a),void 0)},getValue:function(a){if(void 0!==a){var b=this[a];return b}},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0!==c){if(b in this){var d=this[b];this[b]=d instanceof THREE.Color?c instanceof THREE.Color?c:new THREE.Color(c):c}}else console.log('SCMAP.Faction: "'+b+'" parameter is undefined for "'+this.name+'"')}}},SCMAP.Faction.FACTIONS={UEE:new SCMAP.Faction({name:"United Empire of Earth",color:9481177,dark:17,isRealFaction:!0}),VANDUUL:new SCMAP.Faction({name:"Vanduul",color:16364188,dark:1114112,isRealFaction:!0}),XIAN:new SCMAP.Faction({name:"Xi'An",color:10802332,dark:4352,isRealFaction:!0}),BANU:new SCMAP.Faction({name:"Banu",color:16772507,dark:1118464,isRealFaction:!0}),NONE:new SCMAP.Faction({name:"Unclaimed",color:6710886,dark:0}),OTHER:new SCMAP.Faction({name:"(Other)",color:13739216,dark:1114129})},SCMAP.Faction.getByName=function(a){var b;if(a instanceof SCMAP.Faction)return a;switch(a.toUpperCase()){case"UNITED EMPIRE OF EARTH":b="UEE";break;case"XI'AN":b="XIAN";break;case"UNCLAIMED":b="NONE";break;default:b=a.toUpperCase()}var c;if(c=SCMAP.Faction.FACTIONS[b]instanceof SCMAP.Faction?SCMAP.Faction.FACTIONS[b]:SCMAP.Faction.FACTIONS.OTHER,"undefined"==typeof c.material){var d=c.dark.clone();c.material=new THREE.MeshBasicMaterial({color:d,vertexColors:!1})}return c},SCMAP.System=function(a){this.iid=void 0,this.uuid=void 0,this.name="",this.nickname=void 0,this.position=new THREE.Vector3,this.ownership=new SCMAP.Faction,this.size="medium",this.jumppoints=[],this.star_color="unknown",this.source=void 0,this.planets=0,this.planetary_rotation=[],this.import=[],this.export=[],this.crime_status="",this.black_market=[],this.description=[],this.uue_strategic_value=void 0,this.blob=[],this.setValues(a),this.distance=2*Number.MAX_VALUE,this.visited=!1,this.parent=void 0,this.color=new THREE.Color(SCMAP.System.COLORS.UNKNOWN),this.sceneObjects={},this.routeVertices=[],this.routeObjects=[],this.have_info=!1,this.scale=1,this.binary=!1},SCMAP.System.prototype={constructor:SCMAP.System,buildObject:function(){var a,b,c,d;return a=new THREE.Mesh(SCMAP.System.MESH,this.starMaterial()),a.scale.set(this.scale,this.scale,this.scale),a.system=this,this.sceneObjects.mesh=a,d=new THREE.Object3D,SCMAP.settings.glow&&(c=new THREE.Sprite(this.glowMaterial()),c.scale.set(SCMAP.System.GLOW_SCALE*this.scale,SCMAP.System.GLOW_SCALE*this.scale,1),c.system=this,this.sceneObjects.glow=c,d.add(this.sceneObjects.glow)),SCMAP.settings.labels&&(b=new THREE.Sprite(this.labelMaterial()),b.position.set(0,3,0),b.scale.set(SCMAP.System.LABEL_SCALE*b.material.map.image.width,SCMAP.System.LABEL_SCALE*b.material.map.image.height,1),b.system=this,this.sceneObjects.label=b,d.add(this.sceneObjects.label)),d.add(this.sceneObjects.mesh),d.position=this.position,d.system=this,d},getColorByName:function(a){return a=a.toUpperCase(),"undefined"!=typeof SCMAP.System.COLORS[a]?SCMAP.System.COLORS[a]:SCMAP.System.COLORS.UNKNOWN},starMaterial:function(){return SCMAP.System.STAR_MATERIAL_WHITE},glowMaterial:function(){var a=this.star_color.toUpperCase();return SCMAP.System["GLOW_MATERIAL_"+a]instanceof THREE.SpriteMaterial?SCMAP.System["GLOW_MATERIAL_"+a]:SCMAP.System[SCMAP.System.GLOW_MATERIAL_UNKNOWN]},labelMaterial:function(){var a,b,c,d;return a=document.createElement("canvas"),a.width=300,a.height=64,b=a.getContext("2d"),b.font="36pt Electrolize, sans-serif",b.textAlign="center",b.fillStyle="rgba(255,255,255,0.95)",b.fillText(this.name,a.width/2,38),c=new THREE.Texture(a),c.needsUpdate=!0,d=new THREE.SpriteMaterial({map:c,useScreenCoordinates:!1})},createLink:function(){var a=this,b=$("<a></a>");return"undefined"!=typeof a.ownership&&"undefined"!=typeof a.ownership&&b.css("color",new THREE.Color(a.ownership.color).getStyle()),b.attr("href","#system="+encodeURI(a.name)),b.attr("title","Show information on "+a.name),b.text(a.name),b.bind("click",function(){a.displayInfo(a),window.controls.goTo(a.position),window.map.select(a.name)}),b},displayInfo:function(a){"undefined"==typeof a&&(a=this);var b,c=$('<div class="sc_system_info '+makeSafeForCSS(a.name)+'"></div>');$("#systemname").attr("class",makeSafeForCSS(a.ownership.name)).css("color",new THREE.Color(a.ownership.color).getStyle()).text("System: "+a.name);var d=window.map.currentRoute();if(d.length){var e=!1,f=0;for(b=0;b<d.length;b++)if(d[b]==a){e=!0,f=b;break}if(e){var g=[];if(f>0){var h=d[f-1].createLink();h.attr("title","Previous jump to "+d[f-1].name+" ("+d[f-1].ownership.name+" territory)"),h.empty().append('<i class="left fa fa-fw fa-arrow-left"></i>'),g.push(h)}else g.push($('<i class="left fa fa-fw"></i>'));if(f<d.length-1){var i=d[f+1].createLink();i.attr("title","Next jump to "+d[f+1].name+" ("+d[f+1].ownership.name+" territory)"),i.empty().append('<i class="right fa fa-fw fa-arrow-right"></i>'),g.push(i)}else g.push($('<i class="right fa fa-fw"></i>'));g.push(a.name),$("#systemname").empty().attr("class",makeSafeForCSS(a.ownership.name)).append(g)}}if(a.have_info){var j,k="No inhabitable worlds",l="&mdash;",m="&mdash;",n="&mdash;",o="Unknown",p="Unknown",q="Unknown",r=[];if(a.planetary_rotation.length&&(k=a.planetary_rotation.join(", ")),a.import.length){for(r=[],b=0;b<a.import.length;b++)r.push(a.import[b].name);l=r.join(", ")}if(a.export.length){for(r=[],b=0;b<a.export.length;b++)r.push(a.export[b].name);m=r.join(", ")}if(a.black_market.length){for(r=[],b=0;b<a.black_market.length;b++)r.push(a.black_market[b].name);n=r.join(", ")}("string"==typeof a.planets||"number"==typeof a.planets)&&(q=a.planets),"string"==typeof a.crime_status&&a.crime_status.length&&(p=a.crime_status),"string"==typeof a.uee_strategic_value&&a.uee_strategic_value.length&&(o=a.uee_strategic_value),c.append("<dl>"+("string"==typeof j?'<dt class="nickname">Nickname</dt><dd class="nickname">'+j+"</dd>":"")+'<dt class="ownership">Ownership</dt><dd class="ownership">'+a.ownership.name+'</dd><dt class="planets">Planets</dt><dd class="planets">'+q+'</dd><dt class="rotation">Planetary rotation</dt><dd class="rotation">'+k+'</dd><dt class="import">Import</dt><dd class="import">'+l+'</dd><dt class="export">Export</dt><dd class="export">'+m+'</dd><dt class="black_market">Black market</dt><dd class="crime">'+n+'</dd><dt class="crime_'+p.toLowerCase()+'">Crime status</dt><dd class="crime">'+p+'</dd><dt class="strategic_value_'+o.toLowerCase()+'">UEE strategic value</dt><dd class="strategic">'+o+"</dd></dl>"),c.append(markdown.toHTML(a.blob)),a.source&&c.append('<p class=""><a href="'+a.source+'" target="_blank">(source)</a></p>')}else c.append("<p><strong>No data available yet for '"+a.name+"'</strong></p>");c.append('<div id="destinations">'),$("#systemblurb").empty(),$("#systemblurb").append(c),$("#map_ui").tabs("option","active",0),$("#map_ui").data("jsp").reinitialise()},getValue:function(a){if(void 0!==a){var b=this[a];return b}},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0!==c){if(b in this){var d=this[b];if("size"==b){switch(c){case"dwarf":this.scale=.6;break;case"medium":this.scale=1;break;case"large":this.scale=1.25;break;case"giant":this.scale=1.6;break;case"binary":this.scale=1.6,this.binary=!0}this[b]=c}d instanceof THREE.Color?this[b]=c instanceof THREE.Color?c:new THREE.Color(this.getColorByName(c)):d instanceof SCMAP.Faction?this[b]=SCMAP.Faction.getByName(c):d instanceof THREE.Vector3&&c instanceof THREE.Vector3?d.copy(c):this[b]=c,"star_color"==b&&"string"==typeof this.star_color&&(this.color=new THREE.Color(this.getColorByName(this.star_color)))}}else console.log('SCMAP.System: "'+b+'" parameter is undefined for "'+this.name+'"')}}},SCMAP.System.COLORS={RED:16736352,BLUE:6316287,WHITE:16777215,YELLOW:16777056,ORANGE:15790208,UNKNOWN:12648384},SCMAP.System.LABEL_SCALE=.04,SCMAP.System.GLOW_SCALE=6,SCMAP.System.MESH=new THREE.SphereGeometry(1,12,12),SCMAP.System.STAR_MATERIAL_RED=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.RED,name:"STAR_MATERIAL_RED"}),SCMAP.System.STAR_MATERIAL_BLUE=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.BLUE,name:"STAR_MATERIAL_BLUE"}),SCMAP.System.STAR_MATERIAL_WHITE=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.WHITE,name:"STAR_MATERIAL_WHITE"}),SCMAP.System.STAR_MATERIAL_YELLOW=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.YELLOW,name:"STAR_MATERIAL_YELLOW"}),SCMAP.System.STAR_MATERIAL_ORANGE=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.ORANGE,name:"STAR_MATERIAL_ORANGE"}),SCMAP.System.STAR_MATERIAL_UNKNOWN=new THREE.MeshBasicMaterial({color:SCMAP.System.COLORS.UNKNOWN,name:"STAR_MATERIAL_UNKNOWN"}),SCMAP.System.GLOW_MAP=new THREE.ImageUtils.loadTexture($("#gl-info").data("glow-image")),SCMAP.System.GLOW_MATERIAL_RED=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.RED}),SCMAP.System.GLOW_MATERIAL_BLUE=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.BLUE}),SCMAP.System.GLOW_MATERIAL_WHITE=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.WHITE}),SCMAP.System.GLOW_MATERIAL_YELLOW=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.YELLOW}),SCMAP.System.GLOW_MATERIAL_ORANGE=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.ORANGE}),SCMAP.System.GLOW_MATERIAL_UNKNOWN=new THREE.SpriteMaterial({map:SCMAP.System.GLOW_MAP,blending:THREE.AdditiveBlending,color:SCMAP.System.COLORS.UNKNOWN}),SCMAP.Dijkstra=function(a){return a instanceof SCMAP.Map?(this.scene=a.scene,this.results=[],this.object=void 0,this.source=void 0,this.destination=void 0,void 0):(console.error("No map specified to SCMAP.Dijkstra constructor!"),void 0)},SCMAP.Dijkstra.prototype={constructor:SCMAP.Dijkstra,createRouteObject:function(){return this.destroyRoute(),this.object=new THREE.Object3D,this.object},destroyRoute:function(){this.object instanceof THREE.Object3D&&(this.scene.remove(this.object),this.object=void 0)},destroyGraph:function(){this.destroyRoute(),this.results=[],this.source=void 0,this.destination=void 0},buildGraph:function(a){var b,c=new Date;this.source=a,console.log("Building graph starting at "+a.name+" ...");for(var d=0;d<map.systems.length;d++)map.systems[d].distance=Number.POSITIVE_INFINITY,map.systems[d].parent=null;var e=a;e.distance=0,e.parent=null;var f=map.systems.slice(0);f=SCMAP.Dijkstra.quickSort(f);for(;f.length>=1&&(e=f[0],f.splice(0,1),!isInfinite(e.distance));)for(var g=0;g<e.jumppoints.length;g++){var h=e.distance+e.jumppoints[g].length();h<e.jumppoints[g].destination.distance&&(e.jumppoints[g].destination.distance=h,e.jumppoints[g].destination.parent=e,f=SCMAP.Dijkstra.quickSort(f))}this.results=map.systems,b=new Date,console.log("Graph building took "+(b.getTime()-c.getTime())+" msec")},routeArray:function(a){if(!(a instanceof SCMAP.System))return console.error("No or invalid target specified."),void 0;if(this.results.length>0){this.destination=a;for(var b=a,c=[],d=b,e={};null!==d;)e[d.name]=!0,c.push(d),d=d.parent;return c.reverse(),c}}},SCMAP.Dijkstra.quickSort=function(a){var b=a.slice(0);if(b.length<=1)return b;var c=[],d=[],e=Math.ceil(b.length/2)-1;e=b.splice(e,1)[0];for(var f=0;f<b.length;f++)b[f].distance<=e.distance?c.push(b[f]):d.push(b[f]);var g=SCMAP.Dijkstra.quickSort(c),h=SCMAP.Dijkstra.quickSort(d);return g.push(e),g.concat(h)},SCMAP.Map=function(a,b){this.name="Star Citizen 'Verse",this.scene=a,this.mapdata="object"==typeof b?b:{},this.route=void 0,this.graph=new SCMAP.Dijkstra(this),this.systemsByName={},this.systems=[],this.selector=this.createSelector(),this.selected=void 0,this.selectedTarget=void 0,this.scene.add(this.selector),this.group=void 0,this.interactables=[],this.referencePlane=void 0,this.canEdit=!1,$("#map_ui li.editor").hide(),Object.keys(b).length&&this.populateScene()},SCMAP.Map.prototype={constructor:SCMAP.Map,createSelector:function(){var a=new THREE.MeshBasicMaterial({color:13421772});a.transparent=!0,a.blending=THREE.AdditiveBlending;var b=new THREE.Mesh(SCMAP.SelectedSystemGeometry,a);return b.scale.set(4,4,4),b.visible=!1,b},system:function(a){return this.systemsByName[a]},select:function(a){a instanceof SCMAP.System?(this.selector.position=a.position,this.selector.visible=!0):this.selector.visible=!1,$("#routelist").empty()},deselect:function(){this.selector.visible=!1},animateSelector:function(){this.selector.visible&&(this.selector.rotation.y=200*THREE.Math.degToRad(25e-5*Date.now()))},handleSelection:function(a,b){if("object"==typeof b){var c=a.shiftKey||a.ctrlKey?!0:!1;"mouseup"===a.type?window.editor.enabled||(c?this.updateRoute(b.object.system):this.selected instanceof SCMAP.System&&b.object.system instanceof SCMAP.System&&b.object.system===this.selected&&(this.select(b.object.system),b.object.system.displayInfo())):"mousedown"===a.type&&(window.editor.enabled?a.altKey||"object"!=typeof b.object.system||(this.selected instanceof SCMAP.System&&b.object.system instanceof SCMAP.System&&this.selected==b.object.system?window.controls.editDrag=!0:(this.selected=b.object.system,this.select(b.object.system),window.controls.editDrag=!1)):c?this.selectedTarget=b.object.system:this.selected=b.object.system)}},currentRoute:function(){return this.selectedTarget instanceof SCMAP.System?this.graph.routeArray(this.selectedTarget):[]},updateRoute:function(a){var b,c,d,e,f,g,h,i;for(this.graph.destroyRoute(),this.graph.buildGraph(this.selected),this.selectedTarget=a,c=this.graph.routeArray(a),f=new THREE.LineBasicMaterial({color:16711935,linewidth:1}),g=this.graph.createRouteObject(),b=0;b<c.length-1;b++)d=this.createRouteMesh(c[b+0],c[b+1]),e=new THREE.Line(d,f),e.position=c[b+0].position,e.lookAt(c[b+1].position),g.add(e);for(this.scene.add(g),$("#routelist").empty(),$("#routelist").append("<p>The shortest route from "+c[0].name+" to "+c[c.length-1].name+" along <strong>"+(c.length-1)+"</strong> jump points:</p>").append('<ol class="routelist"></ol>'),b=0;b<c.length;b++)h=c[b+0],i=$("<li></li>").append(h.createLink()),$("#routelist ol").append(i),$("#map_ui").tabs("option","active",1)},createRouteMesh:function(a,b){var c,d,e,f=2*Math.PI/16,g=.5,h=.5,i=new THREE.Geometry,j=a.position.distanceTo(b.position),k=0;for(c=0;j>k;c+=f)d=h*Math.cos(c),e=0-h*Math.sin(c),i.vertices.push(new THREE.Vector3(d,e,k)),k+=g;return i},populateScene:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;m=n=new Date,this.mapdata="object"==typeof a?a:this.mapdata,this.systems=[],this.systemsByName={};for(c in this.mapdata){b=this.mapdata[c],l=SCMAP.Faction.getByName(c);for(e in b.systems){if(i=b.systems[e],"number"!=typeof i.scale&&(i.scale=1),d=new SCMAP.System({name:e,position:new THREE.Vector3(i.coords[0],i.coords[1],i.coords[2]),scale:i.scale,color:b.color,ownership:l}),r=SCMAP.data.systems[e],"object"==typeof r){for(s=[],p=[],q=[],o=0;o<r["import"].length;o++)s.push(SCMAP.data.goods[r.import[o]]);for(o=0;o<r["export"].length;o++)p.push(SCMAP.data.goods[r.export[o]]);for(o=0;o<r.black_market.length;o++)q.push(SCMAP.data.goods[r.black_market[o]]);d.setValues({nickname:r.nick,star_color:r.color,size:r.size,source:r.source,crime_status:SCMAP.data.crime_levels[r.crime].name,uee_strategic_value:SCMAP.data.uee_strategic_values[r.uee_sv].color,"import":s,"export":p,black_market:q,blob:r.blob,planets:0,planetary_rotation:[],have_info:!0})}l.claim(d),this.systemsByName[e]=d,this.systems.push(d),j=d.buildObject(),this.scene.add(j),this.interactables.push(d.sceneObjects.mesh)}}for(c in this.mapdata){b=this.mapdata[c];for(e in b.known_routes)if(void 0!==this.system(e))for(f=this.system(e),g=b.known_routes[e],o=0;o<g.length;o++)if(h=this.system(g[o]),void 0!==h){k=new SCMAP.JumpPoint(f,h);var t=k.sceneObject();t instanceof THREE.Object3D&&this.scene.add(t),f.jumppoints.push(k),h.jumppoints.push(new SCMAP.JumpPoint(h,f))}else console.log(c+" space route from "+e+" can't find the destination system '"+g[o]+"'");else console.log("Territory '"+c+"' space route: can't find the source system '"+e+"'")}m=new Date,console.log("Populating the scene (without ref plane) took "+(m.getTime()-n.getTime())+" msec"),this.buildReferencePlane(),this.referencePlaneTerritoryColor()},closestPOI:function(a){var b,c,d,e,f,g,h=1/0;for(e in this.systemsByName)c=this.systemsByName[e],f=a.x-c.position.x,g=a.z-c.position.z,d=Math.sqrt(f*f+g*g),h>d&&(h=d,b=c);return[h,b]},furthestPOI:function(a){var b,c,d,e,f,g,h=0;for(e in this.systemsByName)c=this.systemsByName[e],f=a.x-c.position.x,g=a.z-c.position.z,d=Math.sqrt(f*f+g*g),d>h&&(h=d,b=c);return[h,b]},referencePlaneTerritoryColor:function(){if(!(!this.referencePlane instanceof THREE.Object3D))for(var a=this.referencePlane.geometry,b=35,c=0;c<a.vertices.length;c++){var d=a.vertices[c],e=this.closestPOI(d),f=e[0],g=e[1];f>b&&(f=b);var h=g.ownership.color.clone(),i=(b-f)/b;h.setRGB(i*h.r*.8,i*h.g*.8,i*h.b*.8),a.colors[c]=h}},referencePlaneSolidColor:function(a){var b,c,d=this.referencePlane.geometry;if(!(!this.referencePlane instanceof THREE.Object3D))for(b=0;b<d.vertices.length;b++)c=d.vertices[b],d.colors[b]=a},pointAtPlane:function(a,b,c){return new THREE.Vector3(b*Math.cos(a),c,-b*Math.sin(a))},referencePlaneTerritoryColourMesh:function(a,b,c,d,e){var f,g;return f=new THREE.Geometry,f.vertices.push(this.pointAtPlane(b,d,-.04)),f.vertices.push(this.pointAtPlane(c,d,-.04)),f.vertices.push(this.pointAtPlane(c,e,-.04)),f.vertices.push(this.pointAtPlane(b,e,-.04)),f.faces.push(new THREE.Face3(2,1,0)),f.faces.push(new THREE.Face3(3,2,0)),g=new THREE.Mesh(f,a.material)},buildReferencePlane:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=10,x=2*Math.PI/36,y=new THREE.Object3D;r=s=new Date,q=this.furthestPOI(new THREE.Vector3),p=q[0]+50,d=new THREE.LineBasicMaterial({color:10526880,linewidth:1,vertexColors:!0,opacity:.6}),f=new THREE.Geometry;for(g=x/2;g<2*Math.PI;g+=x)for(j=Math.cos(g),k=Math.sin(g),t=g-x/2,u=g+x/2,h=Math.cos(t),i=Math.sin(t),a=w/2;p>a;a+=w)b=a-w/2,c=a+w/2,q=this.closestPOI(new THREE.Vector3(a*j,0,-a*k)),q[0]<=35&&y.add(this.referencePlaneTerritoryColourMesh(q[1].ownership,t,u,b,c)),q[0]<55&&(l=b*h,m=-b*i,n=c*h,o=-c*i,f.vertices.push(new THREE.Vector3(l,0,m)),f.vertices.push(new THREE.Vector3(n,0,o)),f.vertices.push(new THREE.Vector3(l,0,m)),f.vertices.push(new THREE.Vector3(b*Math.cos(u),0,-b*Math.sin(u))));for(v=0;v<f.vertices.length;v++)f.colors[v]=d.color;e=new THREE.Line(f,d,THREE.LinePieces),this.referencePlane=e,scene.add(e),scene.add(y),r=new Date,console.log("Building the territory reference plane took "+(r.getTime()-s.getTime())+" msec")}};var effectFXAA,camera,scene,renderer,composer,map,shift,ctrl,alt,controls,editor,stats;$(function(){$("#map_ui").tabs({active:0,activate:function(a,b){a.preventDefault();var c=b.newTab.find("a").attr("href");"#editor"===c&&map.canEdit?($("#webgl-container").removeClass().addClass("noselect webgl-container-edit"),window.editor.enabled=!0,window.controls.requireAlt=!0):($("#webgl-container").removeClass().addClass("noselect webgl-container-noedit"),window.editor.enabled=!1,window.controls.requireAlt=!1,"#info"===c&&"undefined"!=typeof map.selected&&"undefined"!=typeof map.selected.object&&map.selected.object.system.displayInfo()),$("#map_ui").data("jsp").reinitialise()}}),$("#map_ui").jScrollPane({showArrows:!0}),Detector.webgl||Detector.addGetWebGLMessage(),init(),animate()});